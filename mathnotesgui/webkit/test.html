
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX", "output/SVG"],
    displayAlign: 'left',
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      preview: 'none'
    },
    showMathMenu: false,
    showMathMenuMSIE: false,
    showProcessingMessages: false,
    messageStyle: 'none'
  });
</script>
<script type="text/javascript" src="MathJax/MathJax.js"></script>

<div style="display: none" id="input"></div>
<div style="font-size: 1.5em; visibility: hidden" id="eq">${}$</div>

<script type="text/javascript">
var hub_queue = MathJax.Hub.queue;
var math = null;
var last_input = "";
var timeout;

hub_queue.Push(function () {
    math = MathJax.Hub.getAllJax("eq")[0];
    Renderer.hasLoaded();
});

function render() {
    var tex = document.getElementById("input").innerHTML;

    if (last_input != tex) hub_queue.queue = [];
    last_input = tex;

    hub_queue.Push(["Text", math, tex, function () {
        document.getElementById("eq").style.visibility = "visible";
        setTimeout(function() { ready = true; }, 250);
    }]);
}

window.UpdateMath = function () {
    clearTimeout(timeout);
    timeout = setTimeout(function() { render() }, 200);
}
</script>
