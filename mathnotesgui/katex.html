<!DOCTYPE html>
<link rel="stylesheet" href="katex/katex.min.css">
<script src="katex/katex.min.js"></script>

<div style="font-size: 13pt;" id="input"></div>

<script src="qrc:///qtwebchannel/qwebchannel.js"></script>
<script>
var doRender, changeFontSize;
var elem = document.getElementById("input");

changeFontSize = function(size) {
    elem.style.fontSize = size;
};

new QWebChannel(qt.webChannelTransport, function(channel) {
    var jshelper = channel.objects.jshelper;

    doRender = function (latexString) {
        katex.render(latexString, elem);
        setTimeout(function () { jshelper.onRenderComplete(elem.clientWidth, elem.clientHeight) }, 30);
    };
});
</script>
